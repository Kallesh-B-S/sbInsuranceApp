<div class="pro-modal-dark custom-hide-scrollbar">
  <button class="close-btn" (click)="onCancel()" aria-label="Close">
    <mat-icon>close</mat-icon>
  </button>

  <div class="modal-content-wrapper">
    <header class="modal-header">
      <div class="icon-container">
        <mat-icon>payments</mat-icon>
      </div>
      <div class="title-group">
        <h1>Submit Claim</h1>
        <!-- <p class="reference-text">Policy <span class="policy-id">{{data.policyNumber}}</span></p> -->
      </div>
    </header>

    <div class="form-body">
      <div class="field-wrapper">
        <label>Repair Estimate</label>
        <div class="input-container">
          <span class="currency-prefix">$</span>
          <input type="number" [(ngModel)]="claimData.requestedAmount" placeholder="0.00">
        </div>
      </div>

      <div class="field-wrapper">
        <label>Date of Incident</label>
        <div class="input-container">
          <input type="date" [(ngModel)]="claimData.incidentDate">
        </div>
      </div>

      <div class="field-wrapper">
        <label>Reason for Claim</label>
        <div class="input-container">
          <textarea [(ngModel)]="claimData.description" placeholder="Describe the incident..." rows="4"></textarea>
        </div>
      </div>

      <!-- Images Section -->
      <div class="field-wrapper">
        <label>Supporting Images (JPG, PNG)</label>
        <div class="upload-container">
          <input #fileInput type="file" (change)="onFileSelected($event)" accept=".jpg,.jpeg,.png" multiple hidden>

          <div class="upload-placeholder" *ngIf="selectedFiles.length === 0" (click)="fileInput.click()">
            <mat-icon>cloud_upload</mat-icon>
            <span>Click to upload images</span>
          </div>

          <div class="preview-scroll-container" *ngIf="selectedFiles.length > 0">
            <div class="preview-grid">
              <div class="preview-item" *ngFor="let file of previewUrls; let i = index">
                <img [src]="file" alt="Preview">
                <button class="remove-img" (click)="removeImage(i, $event)">
                  <mat-icon>cancel</mat-icon>
                </button>
              </div>

              <div class="add-more-box" (click)="fileInput.click()">
                <mat-icon>add</mat-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="modal-footer">
      <button class="cancel-link" (click)="onCancel()">Cancel</button>
      <button class="submit-action" (click)="onSubmit()"
        [disabled]="!claimData.requestedAmount || !claimData.description || !claimData.incidentDate">
        Submit
      </button>
    </footer>
  </div>
</div>