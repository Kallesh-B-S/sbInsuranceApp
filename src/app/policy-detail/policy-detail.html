<div class="detail-container">
  <nav class="back-nav">
    <a routerLink="/" class="back-link">
      <mat-icon>arrow_back</mat-icon> 
      Back to Dashboard
    </a>
  </nav>

  <div class="glass-card detail-header-card">
    <div class="header-content">
      <span class="badge badge-active">{{ data().policy.status }}</span>
      <h1>{{ data().policy.policyName }}</h1>
      <p class="subtitle">Policy ID: <span class="mono">{{ data().policy.policyNumber }}</span></p>
    </div>
    <button class="btn-orange" (click)="downloadDocs()">
      <mat-icon>download</mat-icon>
      Download Docs
    </button>
  </div>

  <div class="detail-grid-layout">
    
    <div class="glass-card">
      <h2 class="section-title"><mat-icon>description</mat-icon> Coverage Details</h2>
      <div class="info-grid-internal">
        <div class="info-box">
          <span class="label">Premium Amount</span>
          <div class="value">{{ data().policy.premiumAmount | currency }}</div>
        </div>
        <div class="info-box">
          <span class="label">Coverage Limit</span>
          <div class="value">{{ data().policy.coverageAmount | currency }}</div>
        </div>
        <div class="info-box wide">
          <span class="label">Duration</span>
          <div class="value-small">
            <mat-icon>calendar_today</mat-icon>
            {{ data().policy.startDate }} â€” {{ data().policy.endDate }}
          </div>
        </div>
      </div>
    </div>

    <div class="glass-card">
      <h2 class="section-title"><mat-icon>directions_car</mat-icon> Vehicle Information</h2>
      <div class="info-grid-internal">
        <div class="info-box">
          <span class="label">Make / Model</span>
          <div class="value">{{ data().automobile.year }} {{ data().automobile.make }}</div>
        </div>
        <div class="info-box">
          <span class="label">Automobile ID</span>
          <div class="value">#{{ data().automobile.id }}</div>
        </div>
        
        <div class="previous-ins-box">
          <span class="label">Previous Provider Record</span>
          @if(data().automobile.previousInsurance) {
            <div class="value-small">
              <strong>{{ data().automobile.previousInsurance.company }}</strong> 
              <span class="text-secondary">
                (Claim: {{ data().automobile.previousInsurance.lastClaimAmount | currency }})
              </span>
            </div>
          } @else {
            <div class="value-small text-muted">No previous record found</div>
          }
        </div>
      </div>
    </div>

  </div>
</div>