<div class="dashboard-wrapper">
  <main class="dashboard-grid">
    <header class="page-header">
      <div class="header-main">
        <div class="title-section">
          <button class="back-btn" [routerLink]="['/home']">
            <mat-icon>arrow_back</mat-icon>
          </button>
          <h1 class="page-title">Claims</h1>
        </div>

        <!-- <h1 class="page-title">Claims</h1> -->
        
        <div class="filter-bar">
          <div class="select-input-group">
            <mat-icon>filter_list</mat-icon>
            <select (change)="applyStatusFilter($event)">
              <option value="">All Statuses</option>
              <option value="PAID">Paid</option>
              <option value="PENDING">Pending</option>
              <option value="REJECTED">Rejected</option>
            </select>
          </div>
        </div>
      </div>
    </header>

    <section class="glass-card">
      <div class="table-responsive-container">
        <table mat-table [dataSource]="filteredClaims()" class="custom-table">
          
          <ng-container matColumnDef="claimId">
            <th mat-header-cell *matHeaderCellDef> Claim ID </th>
            <td mat-cell *matCellDef="let c">
              <span class="orange-link fw-bold">{{c.claimId}}</span>
            </td>
          </ng-container>

          <ng-container matColumnDef="policyNumber">
            <th mat-header-cell *matHeaderCellDef> Policy </th>
            <td mat-cell *matCellDef="let c"> {{c.policyNumber}} </td>
          </ng-container>

          <ng-container matColumnDef="claimAmount">
            <th mat-header-cell *matHeaderCellDef> Amount </th>
            <td mat-cell *matCellDef="let c"> {{c.claimAmount | currency}} </td>
          </ng-container>

          <ng-container matColumnDef="claimStatus">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let c">
              <span class="badge" [ngClass]="{
                'badge-active': c.claimStatus === 'PAID',
                'badge-pending': c.claimStatus === 'PENDING'
              }">{{c.claimStatus}}</span>
            </td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="text-right"> Actions </th>
            <td mat-cell *matCellDef="let c">
              <div class="action-cell-wrapper">
                <button mat-button class="view-claims-btn" [routerLink]="['/claim', c.claimId]">
                  <mat-icon>visibility</mat-icon>
                  <span>View Details</span>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="claimColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: claimColumns;"></tr>
        </table>
      </div>
    </section>
  </main>
</div>